<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

    <body>

        <ui:composition template="./../plantillas/plantilla.xhtml">

            <ui:define name="CuadroDeBotonesSesion">
                CuadroDeBotonesSesion
            </ui:define>

            <ui:define name="menuprincipal">
                <h:form>
                    <p:breadCrumb styleClass="migaDePan">
                        <p:menuitem value="Director" outcome="vista-director" />
                        <p:menuitem value="Director" outcome="vista-director" />
                        <p:menuitem value="Trabajos de Grado" outcome="vista-director" />                        
                        <p:menuitem value="Fases del Trabajo de Grado" outcome="fases-trabajo-de-grado" />
                        <p:menuitem value="1. PresentaciÃ³n de la Idea" outcome="fases-trabajo-de-grado" />
                        <p:menuitem value="Diligenciar Formato A" outcome="diligenciar-formato-A" />
                    </p:breadCrumb>              
                </h:form>
            </ui:define>

            <ui:define name="title">
            </ui:define>

            <ui:define name="body">

                <h:form>
                    <p:menu styleClass="menuizqroles" style="background-color: white">
                        <p:submenu label="Perfiles" style="background-color: white">
                            <p:menuitem value="Director" action="vista-director" style="background-color: #c2dfef" />
                            <p:menuitem value="Jefe de Departamento" action="./../jefe-de-departamento/vista-jefe-de-departamento.xhtml" />                            
                        </p:submenu>                                
                    </p:menu>
                </h:form>

                <p:panel styleClass="paneltrabajo" >
                    <f:metadata>
                        <f:viewParam name="trabajoid" value="#{trabajodegradoController.trabajoid}" />
                    </f:metadata>

                    <div class="tituloContenido">                        
                        <h:outputText value="#{trabajodegradoController.trabajo.trabajonombre}"/> <br/>
                    </div>                 

                    <h:form>     
                        <p:growl id="growl" sticky="true" showDetail="true"/>

                        <p:wizard backLabel="Anterior" nextLabel="Siguiente">
                            <p:tab id="paso1" title="Paso 1">
                                <p:panel header="Creacion de Formato A">
                                    <p:messages />
                                    <h:panelGrid columns="2" columnClasses="label, value" cellpadding="5">
                                        <p:outputLabel value="Nombre del Estudiante 1:"> </p:outputLabel>
                                        <p:autoComplete value="#{formatoA.est1}" label="Estudiante # 1 "
                                                        completeMethod="#{formatoA.complete}"
                                                        var="est"
                                                        itemValue="#{est}" dropdown="true"
                                                        forceSelection="true"
                                                        itemLabel="#{est.personanombres} #{est.personaapellidos}"
                                                        converter="usuarioConverter"
                                                        cache="true"
                                                        queryDelay="750"
                                                        maxResults="8"
                                                        >
                                            <p:ajax event="itemSelect" listener="#{formatoA.handlerSelectest1}"></p:ajax>
                                            <p:ajax event="itemUnselect" listener="#{formatoA.handleUnSelectest1}"></p:ajax>
                                            <p:column>
                                                #{est.personanombres} #{est.personaapellidos}
                                            </p:column>
                                        </p:autoComplete> 
                                        <p:separator /> <p:separator />
                                        <p:outputLabel value="Nombre de los Estudiante 2(opcional):"> </p:outputLabel>
                                         <p:autoComplete value="#{formatoA.est2}" label="Estudiante # 1 "
                                                        completeMethod="#{formatoA.complete2}"
                                                        var="est"
                                                        itemValue="#{est}" dropdown="true"
                                                        forceSelection="true"
                                                        itemLabel="#{est.personanombres} #{est.personaapellidos}"
                                                        converter="usuarioConverter"
                                                        cache="true"
                                                        queryDelay="750"
                                                        maxResults="8"
                                                        >
                                             <p:ajax event="itemSelect" listener="#{formatoA.handlerSelectest2}"></p:ajax>
                                            <p:ajax event="itemUnselect" listener="#{formatoA.handleUnSelectest2}"></p:ajax>
                                            <p:column> 
                                                #{est.personanombres} #{est.personaapellidos}
                                            </p:column>
                                        </p:autoComplete>  
                                        <p:separator /> <p:separator />
                                        <p:outputLabel value="Director del trabajo de grado:"> </p:outputLabel>
                                        <p:outputLabel value="#{formatoA.nombreDirector}"> </p:outputLabel>
                                    </h:panelGrid>
                                </p:panel>
                            </p:tab>

                            <p:tab id="paso2" title="Paso 2">
                                <p:panel header="Creacion de Formato A">
                                    <p:messages />
                                    <h:panelGrid columnClasses="label, value" cellpadding="5">
                                        <p:outputLabel value="Objetivos:" for="obj"> </p:outputLabel>
                                        <p:inputTextarea id="obj" value="#{formatoA.objetivos}" required="true" label="Objetivos" styleClass="txtareaform"/>

                                        <p:separator />
                                        
                                        <p:outputLabel for="aport" value="Aportes o contribucion a las lineas de investigacion y desarrollo o temas de interes del departamento:"> </p:outputLabel>
                                        <p:inputTextarea id="aport" value="#{formatoA.aportes}" required="true" label="Aportes o Contribuciones" styleClass="txtareaform"/>
                                    </h:panelGrid>
                                </p:panel>
                            </p:tab>

                            <p:tab id="paso3" title="Paso 3">
                                <p:panel header="Creacion de Formato A">
                                     <p:messages />
                                    <h:panelGrid cellpadding="5">

                                        <p:outputLabel value="Tiempo estimado de realizacion"> </p:outputLabel>
                                        <p:inputText value="#{formatoA.tiempo}" required="true" label="Tiempo Estimado" 
                                                     styleClass="txtareaform" />

                                         <p:separator />
                                         
                                        <p:outputLabel value="Recursos requeridos"> </p:outputLabel>
                                        <p:inputTextarea value="#{formatoA.recursos}" required="true" label="Recursos" styleClass="txtareaform"/>

                                         <p:separator />
                                        <p:outputLabel value="Definicion de fuentes de financiacion"> </p:outputLabel>
                                        <p:inputTextarea value="#{formatoA.financiacion}" required="true" label="Fuentes de Financiacion" styleClass="txtareaform"/>

                                         <p:separator />
                                        <p:outputLabel value="Observaciones"> </p:outputLabel>
                                        <p:inputTextarea value="#{formatoA.observaciones}" label="Observaciones" styleClass="txtareaform"/>

                                         <p:separator />
                                        <p:outputLabel value="Fecha"> </p:outputLabel>
                                        <p:calendar navigator="true" value="#{formatoA.fecha}" required="true" label="Fecha" pattern="dd-MM-yyyy"/>

                                    </h:panelGrid>

                                </p:panel>
                            </p:tab>

                            <p:tab id="paso4" title="Paso 4">
                                 <p:panel header="Confirmacion de Datos">
                                    <h:panelGrid cellpadding="7">

                                        <p:fieldset legend="Nombre del Estudiante 1:" toggleable="true" styleClass="txtareaform"> 
                                            <p:outputLabel value="#{formatoA.est1.personanombres} #{formatoA.est1.personaapellidos}"> </p:outputLabel>
                                        </p:fieldset>
                                      
                                        
                                        <p:fieldset legend="Director del trabajo de grado:" toggleable="true" styleClass="txtareaform"> 
                                            <p:outputLabel value="#{formatoA.nombreDirector}"> </p:outputLabel>
                                        </p:fieldset>      
                                        
                                        
                                        <p:fieldset legend="Objetivos:" toggleable="true" styleClass="txtareaform"> 
                                            <p:outputLabel value="#{formatoA.objetivos}"> </p:outputLabel>
                                        </p:fieldset>   
                                        
                                        
                                        <p:fieldset legend="Aportes o contribucion a las lineas de investigacion y desarrollo o temas de interes del departamento:" toggleable="true" styleClass="txtareaform"> 
                                            <p:outputLabel value="#{formatoA.aportes}"> </p:outputLabel>
                                        </p:fieldset>   
                                       
                                        <p:fieldset legend="Tiempo estimado de realizacion" toggleable="true" styleClass="txtareaform"> 
                                            <p:outputLabel value="#{formatoA.tiempo}"> </p:outputLabel>
                                        </p:fieldset>

                                        <p:fieldset legend="Recursos requeridos" toggleable="true" styleClass="txtareaform"> 
                                            <p:outputLabel value="#{formatoA.recursos}"> </p:outputLabel>
                                        </p:fieldset>

                                        <p:fieldset legend="Definicion de fuentes de financiacion" toggleable="true" styleClass="txtareaform"> 
                                            <p:outputLabel value="#{formatoA.financiacion}"> </p:outputLabel>
                                        </p:fieldset>

                                        <p:fieldset legend="Observaciones" toggleable="true" styleClass="txtareaform"> 
                                            <p:outputLabel value="#{formatoA.observaciones}"> </p:outputLabel>
                                        </p:fieldset>

                                        <p:fieldset legend="Fecha" toggleable="true" styleClass="txtareaform"> 
                                            <p:outputLabel value="#{formatoA.fecha}"> </p:outputLabel>
                                        </p:fieldset>
                      

                                    </h:panelGrid>

                                     <p:separator />
                                     
                                     <p:commandButton value="Guardar" update="growl" process="@this" actionListener="#{formatoA.guardar()}" />
                                </p:panel>
                            </p:tab>


                        </p:wizard>
                    </h:form>

                </p:panel>                          
            </ui:define>
        </ui:composition>

    </body>
</html>
